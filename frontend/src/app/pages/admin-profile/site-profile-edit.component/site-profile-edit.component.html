<div class="mx-auto max-w-3xl px-3 sm:px-4 mt-6">

  <!-- Başlık: surface-2 + gradyan şerit + accent ayraç -->
  <section class="soft-card comic-outline p-5 md:p-6 surface-2 mb-5">
    <div class="flex items-center gap-2 -mt-1 mb-2">
      <span
        class="px-2 py-0.5 rounded-md text-xs font-medium"
        style="background-color:hsl(var(--s) / .14); color:hsl(var(--s)); border:1px solid hsl(var(--s) / .35);">
        Profil
      </span>
    </div>

    <h2 class="text-3xl md:text-4xl font-extrabold tracking-tight heading-gradient">
      Site Profili
    </h2>

    <p class="mt-1 text-sm muted">Ad, özet ve sosyal bağlantıları düzenleyin.</p>

    <div class="mt-4 h-px w-full"
         style="background-image:linear-gradient(90deg, hsl(var(--a) / 0), hsl(var(--a) / .35), hsl(var(--a) / 0));">
    </div>
  </section>

  <!-- Skeleton -->
  <div *ngIf="loading" class="space-y-3 animate-pulse">
    <div class="h-10 rounded" style="background: hsl(var(--b3) / .35)"></div>
    <div class="h-10 rounded" style="background: hsl(var(--b3) / .35)"></div>
    <div class="h-24 rounded" style="background: hsl(var(--b3) / .35)"></div>
  </div>

  <form *ngIf="!loading" [formGroup]="form" (ngSubmit)="save()" class="space-y-6">

    <div class="soft-card comic-outline p-6 md:p-8 surface-1">

      <!-- Ad Soyad -->
      <label class="form-control">
        <span class="label-soft mb-1 text-sm">Ad Soyad</span>
        <div class="relative">
          <i class="pi pi-user absolute left-3 top-1/2 -translate-y-1/2" style="color:hsl(var(--s));opacity:.85"></i>
          <input type="text" formControlName="fullName" class="input-soft pl-10" placeholder="Ad Soyad">
        </div>
      </label>

      <!-- Kısa Özet -->
      <label class="form-control">
        <span class="label-soft mb-1 text-sm">Kısa Özet</span>
        <div class="relative">
          <i class="pi pi-comment absolute left-3 top-1/2 -translate-y-1/2" style="color:hsl(var(--s));opacity:.85"></i>
          <input type="text" formControlName="tagline" class="input-soft pl-10"
                 placeholder="Örn: Full-stack geliştirici…">
        </div>
      </label>

      <!-- About -->
      <div formArrayName="about" class="panel p-4">
        <div class="mb-3 flex items-center justify-between">
          <span class="label-soft">Hakkımda (madde madde)</span>
          <button type="button"
                  class="btn btn-xs border-0 rounded-full px-3 py-1"
                  (click)="addAboutLine()"
                  style="background-image:linear-gradient(90deg, hsl(var(--p)), hsl(var(--s))); color:hsl(var(--pc));">
            Satır Ekle
          </button>
        </div>
        <div class="space-y-2">
          <div *ngFor="let _ of aboutArr.controls; let i = index; trackBy: trackByIndex"
              class="flex gap-2 items-center">
            <i class="pi pi-dot-fill opacity-70" style="color:hsl(var(--a))"></i>
            <input type="text" [formControlName]="i" class="input-soft flex-1"
                  placeholder="Örn: Spring Boot + React ile geliştirme">
            <div class="flex gap-1">
              <button type="button"
                      class="btn btn-xs btn-ghost"
                      (click)="moveAbout(i,-1)"
                      [disabled]="i===0">
                <i class="pi pi-arrow-up"></i>
              </button>
              <button type="button"
                      class="btn btn-xs btn-ghost"
                      (click)="moveAbout(i, 1)"
                      [disabled]="i===aboutArr.length-1">
                <i class="pi pi-arrow-down"></i>
              </button>
              <button type="button"
                      class="btn btn-xs btn-ghost p-1"
                      (click)="removeAboutLine(i)">
                <i class="pi pi-trash" style="color:hsl(var(--er));"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
      <!-- Sosyaller -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

        <label class="form-control">
          <span class="label-soft mb-1 text-sm">GitHub</span>
          <div class="relative">
            <i class="pi pi-github absolute left-3 top-1/2 -translate-y-1/2" style="opacity:.75"></i>
            <input type="url" formControlName="github" class="input-soft pl-10" placeholder="https://github.com/kullanici">
          </div>
        </label>

        <label class="form-control">
          <span class="label-soft mb-1 text-sm">LinkedIn</span>
          <div class="relative">
            <i class="pi pi-linkedin absolute left-3 top-1/2 -translate-y-1/2" style="color:hsl(var(--s))"></i>
            <input type="url" formControlName="linkedIn" class="input-soft pl-10" placeholder="https://www.linkedin.com/in/...">
          </div>
        </label>

        <label class="form-control">
          <span class="label-soft mb-1 text-sm">Instagram</span>
          <div class="relative">
            <i class="pi pi-instagram absolute left-3 top-1/2 -translate-y-1/2" style="color:hsl(var(--a))"></i>
            <input type="url" formControlName="instagram" class="input-soft pl-10" placeholder="https://instagram.com/...">
          </div>
        </label>

        <label class="form-control">
          <span class="label-soft mb-1 text-sm">E-posta</span>
          <div class="relative">
            <i class="pi pi-envelope absolute left-3 top-1/2 -translate-y-1/2" style="opacity:.75"></i>
            <input type="email" formControlName="email" class="input-soft pl-10" placeholder="ornek@mail.com">
          </div>
        </label>
      </div>
    </div>

    <!-- Aksiyonlar -->
    <div class="flex items-center justify-end gap-2">
      <button type="submit"
              class="btn border-0 rounded-full px-4 py-2"
              [disabled]="form.invalid || saving"
              style="background-image:linear-gradient(90deg, hsl(var(--p)), hsl(var(--s))); color:hsl(var(--pc));">
        <span *ngIf="!saving"><i class="pi pi-save mr-2"></i>Kaydet</span>
        <span *ngIf="saving" class="loading loading-spinner loading-sm"></span>
      </button>
    </div>
  </form>
</div>
